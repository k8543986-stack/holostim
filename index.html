<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Holostim ‚Äî Mini App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Telegram Mini App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- ================= –≠–ö–†–ê–ù –û–ù–ë–û–†–î–ò–ù–ì–ê ================= -->
<div id="screen-onboarding" class="screen">
  <div class="onboarding-card">

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤ -->
    <div class="steps-indicator">
      <span class="step-dot active" data-step="1"></span>
      <span class="step-dot" data-step="2"></span>
      <span class="step-dot" data-step="3"></span>
    </div>

    <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
<div class="onboarding-step" id="step-gender">

  <div class="wick-gender-screen">

    <img
      src="assets/img/johnwick_gender.jpg"
      alt="Choose your path"
      class="wick-bg"
    >

    <!-- –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ -->
    <div class="wick-overlay"></div>

    <!-- –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∑–æ–Ω—ã -->
    <button
      class="wick-zone wick-male"
      onclick="chooseGender('male')"
      aria-label="–ú—É–∂—Å–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂">
    </button>

    <button
      class="wick-zone wick-female"
      onclick="chooseGender('female')"
      aria-label="–ñ–µ–Ω—Å–∫–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂">
    </button>

    <!-- –ø–æ–¥–ø–∏—Å–∏ -->
    <div class="wick-label wick-label-male">
      ASSASSIN
    </div>

    <div class="wick-label wick-label-female">
      BALLERINA
    </div>

  </div>

</div>


    <!-- –®–∞–≥ 2: –ù–∏–∫ -->
    <div class="onboarding-step" id="step-nickname">
      <h1>–ö–∞–∫ —Ç–µ–±—è –Ω–∞–∑—ã–≤–∞—Ç—å?</h1>
      <p>–≠—Ç–æ—Ç –Ω–∏–∫ –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ</p>

      <input type="text" id="nicknameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫">
      <button class="btn-primary" onclick="saveNickname()">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 3: –°–æ–≥–ª–∞—Å–∏–µ -->
    <div class="onboarding-step" id="step-consent">
      <h1>–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ</h1>
      <p>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö</p>

      <label class="consent">
        <input type="checkbox" id="consentCheckbox">
        –Ø —Å–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      </label>

      <button class="btn-primary" id="finishBtn" disabled onclick="finishRegistration()">
        –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
      </button>
    </div>

  </div>
</div>

<!-- ================= –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ================= -->
<div id="screen-main" class="screen" style="display:none">

<header>
  <div>
    <div class="title">HOLOSTIM</div>
    <div class="subtitle">–ü—Ä–æ—Ñ–∏–ª—å —Å—Ç—Ä–µ–ª–∫–∞ ¬∑ –õ–∏—á–Ω—ã–π —Å–∫–ª–∞–¥</div>
  </div>
  <div class="balance" id="headerBalance">
    –ó–∞–≥—Ä—É–∑–∫–∞...
  </div>
</header>

<nav class="top-tabs">
  <button class="tab active" data-tab="sklad">–°–∫–ª–∞–¥</button>
  <button class="tab" data-tab="progress">–ü—Ä–æ–≥—Ä–µ—Å—Å</button>
  <button class="tab" data-tab="shop">–ú–∞–≥–∞–∑–∏–Ω</button>
</nav>


<main>
  <!-- –í–∫–ª–∞–¥–∫–∞ –°–ö–õ–ê–î -->
  <section class="tab-content active" id="tab-sklad">
    <div class="layout">
      <section class="character-card">
        <div class="character-header">
          <div class="character-class">–°—Ç—Ä–µ–ª–æ–∫ Holostim</div>
          <div class="character-level" id="charLevel">LVL 1 ¬∑ –ù–æ–≤–∏—á–æ–∫</div>
        </div>

        <div class="character-body">
          <div class="avatar-wrapper" id="avatar">
            –§–æ—Ç–æ
          </div>
          <label class="upload-avatar-btn">
            <input type="file" accept="image/*" id="avatarInput">
            <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</span>
          </label>

          <div class="character-silhouette">
            –¢—É—Ç –±—É–¥–µ—Ç –º–æ–¥–µ–ª—å –±–æ–π—Ü–∞
          </div>
        </div>

        <div class="character-footer">
          <div class="xp-bar-label">
            <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
            <span id="xpLabel">0 / 100 XP</span>
          </div>
          <div class="xp-bar">
            <div class="xp-bar-fill" id="xpFill" style="width:0%"></div>
          </div>
          <div class="character-actions">
            <button class="btn-primary" onclick="startSession()">–í –ë–û–ô</button>
            <button class="btn-ghost">–¢–∞—Ä–∏—Ñ—ã</button>
          </div>
        </div>
      </section>

      <section class="right-column">
        <div class="panel">
          <div class="panel-title">–†–µ–∂–∏–º—ã</div>
          <div class="modes-grid">
            <div class="mode-card">–°—Ç–∞–Ω–¥–∞—Ä—Ç</div>
            <div class="mode-card">–†–µ–∞–∫—Ü–∏—è</div>
            <div class="mode-card">–î—É—ç–ª—å</div>
            <div class="mode-card">–ù–æ—á–Ω–æ–π</div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">–ê—á–∏–≤–∫–∏</div>
          <div class="achievements-list">
            <div class="ach-badge gold">‚≠ê –ù–æ–≤–æ–±—Ä–∞–Ω–µ—Ü</div>
            <div class="ach-badge silver">üéØ –ú–µ—Ç–∫–∏–π</div>
            <div class="ach-badge bronze">üî• –°–µ—Ä–∏—è</div>
          </div>
        </div>
      </section>
    </div>
  </section>

  <section class="tab-content" id="tab-progress">
    <div class="placeholder-card">
      –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π
    </div>
  </section>

  <section class="tab-content" id="tab-shop">
    <div class="placeholder-card">
      –ú–∞–≥–∞–∑–∏–Ω –∏ –ø–æ–¥–ø–∏—Å–∫–∏
    </div>
  </section>
  <!-- DEV –∫–Ω–æ–ø–∫–∞ (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ) -->
<button
  id="dev-reset-btn"
  onclick="resetAccount()"
  style="
    display:none;
    margin: 24px auto 0;
    padding: 8px 14px;
    font-size: 12px;
    opacity: 0.6;
    border-radius: 999px;
    border: 1px dashed rgba(255,255,255,0.4);
    background: transparent;
    color: #fff;
  ">
  üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç (DEV)
</button>
</main>


</div>

<!-- ================= –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –õ–û–ì–ò–ö–ò ================= -->
<script src="state.js"></script>
<script src="ui.js"></script>
<script src="app.js"></script>

</body>
</html>
